# SCAR Algorithm Configuration
# Moderately Complex Network Topology
#
# IMPORTANT: This configuration file is loaded by main.py and values are used throughout the codebase.
# All values here are imported via yaml.safe_load() in main.py and passed to respective components.
# Some values may have transformations applied (e.g., link capacities are divided by 10 in network_topology.py).

# Network Topology Settings
network:
  # Number of nodes in the network
  # Using 8 nodes for a more complicated topology
  num_nodes: 8
  
  # Network topology type: "ring", "grid", "star", "random", "custom_6", "custom_8", or "file"
  # custom_8: Custom 8-node topology with 15 links (more complicated)
  topology_type: "custom_8"
  
  # File path for custom topology (if topology_type is "file")
  topology_file: null
  
  # Link capacity range (Mbps)
  # NOTE: These values are divided by 10, then multiplied by 3 in the code (network_topology.py line 133-134)
  # So 10-300 in config becomes 3-90 Mbps actual capacity (wide range for path diversity)
  # Wide variation in capacities to encourage path diversity (not just shortest path)
  link_capacity_min: 10
  link_capacity_max: 300
  
  # Initial link latency (ms)
  # Slight variation in latency for realism
  initial_latency: 5

# SCAR Algorithm Parameters
algorithm:
  # Congestion threshold (0.0 to 1.0)
  # When link utilization exceeds this value, the link is considered "congested"
  # Example: 0.7 means a link is congested when it's 70% full
  congestion_threshold: 0.7
  
  # Stability threshold (0.0 to 1.0)
  # Higher value = more stable routes (fewer route changes)
  # Lower value = more adaptive routes (more route changes based on congestion)
  stability_threshold: 0.6
  
  # Route update interval (simulation time units)
  # How often the algorithm checks if routes need updating
  route_update_interval: 10
  
  # Maximum number of route changes per time window
  # Prevents too frequent route changes (maintains stability)
  max_route_changes_per_window: 3
  
  # Time window for route change tracking (simulation time units)
  route_change_window: 50
  
  # Weight for congestion in route selection (0.0 to 1.0)
  # How much the algorithm prioritizes avoiding congestion
  # 0.6 = 60% weight on congestion, 40% on stability
  congestion_weight: 0.6
  
  # Weight for stability in route selection (0.0 to 1.0)
  # How much the algorithm prioritizes route stability
  # Should add up to 1.0 with congestion_weight
  stability_weight: 0.4

# Simulation Settings
simulation:
  # Simulation duration (time units)
  # How long the simulation runs
  duration: 1000
  
  # Time step for simulation
  time_step: 1.0
  
  # Number of packets to generate
  # More packets for a more complex simulation
  num_packets: 80
  
  # Burst size: number of packets generated per burst event
  # NOTE: This value is NOT used directly - the code generates random burst sizes between 3-7
  # (see main.py line 97 and interactive_viewer.py line 425)
  # This field is kept for reference/documentation only
  burst_size: 3
  
  # Packet generation rate (packets per time unit)
  packet_rate: 0.1
  
  # Packet size (bytes)
  # Standard Ethernet frame size (increased by 10x, then 2.5x more = 25x total)
  packet_size: 37500
  
  # Traffic pattern: "constant", "bursty", "random"
  # Random: Packets generated at random times between random nodes
  traffic_pattern: "random"

# Visualization Settings
visualization:
  # Enable visualization
  enabled: true
  
  # Animation speed multiplier
  # 1.0 = normal speed, 2.0 = 2x faster, 0.5 = 2x slower
  animation_speed: 1.0
  
  # Node size in visualization (pixels)
  node_size: 400
  
  # Link width multiplier
  link_width_multiplier: 2.0
  
  # Update interval for visualization (milliseconds)
  # How often the display updates
  update_interval: 100
  
  # Color scheme for congestion levels
  congestion_colors:
    low: "#00FF00"      # Green - Low congestion (0-25% utilization)
    medium: "#FFFF00"   # Yellow - Medium congestion (25-60% utilization)
    high: "#FF0000"     # Red - High congestion (60-100% utilization)
  
  # Export settings
  export_images: false
  export_video: false

# Performance Metrics
metrics:
  # Metrics to track
  track_packet_delivery: true
  track_delay: true
  track_throughput: true
  track_route_stability: true
  track_congestion_levels: true
  
  # Metrics update interval (simulation time units)
  update_interval: 10
